# Arquivo: calculadora.kv (VERSÃO FINAL CORRIGIDA)

MDScreenManager:
    MainScreen:
    SettingsScreen:

<MainScreen>:
    name: "main"

    MDBoxLayout:
        orientation: 'vertical'
        padding: "16dp"
        spacing: "16dp"

        MDIconButton:
            icon: "cog"
            pos_hint: {"right": 1}
            on_release: app.change_screen("settings")

        MDTextField:
            id: display
            text: '0'
            font_size: '48sp'
            halign: 'right'
            mode: "outlined"
            readonly: True
            size_hint_y: None
            height: "100dp"
        
        MDGridLayout:
            cols: 4
            spacing: "8dp"
            size_hint_y: 1.5

            # -- Linha 1 --
            MDButton:
                style: "tonal"
                on_release: app.clear_all()
                MDButtonText:
                    text: "AC"
            MDButton:
                style: "tonal"
                on_release: app.on_button_click('%')
                MDButtonText:
                    text: "%"
            MDButton:
                style: "tonal"
                on_release: app.backspace()
                MDButtonIcon:
                    icon: "backspace-outline"
            MDButton:
                style: "tonal"
                on_release: app.on_button_click('÷')
                MDButtonText:
                    text: "÷"
            
            # -- Linha 2 --
            MDButton:
                style: "tonal"
                on_release: app.on_button_click('7')
                MDButtonText:
                    text: "7"
            MDButton:
                style: "tonal"
                on_release: app.on_button_click('8')
                MDButtonText:
                    text: "8"
            MDButton:
                style: "tonal"
                on_release: app.on_button_click('9')
                MDButtonText:
                    text: "9"
            MDButton:
                style: "tonal"
                on_release: app.on_button_click('x')
                MDButtonText:
                    text: "x"

            # -- Linha 3 --
            MDButton:
                style: "tonal"
                on_release: app.on_button_click('4')
                MDButtonText:
                    text: "4"
            MDButton:
                style: "tonal"
                on_release: app.on_button_click('5')
                MDButtonText:
                    text: "5"
            MDButton:
                style: "tonal"
                on_release: app.on_button_click('6')
                MDButtonText:
                    text: "6"
            MDButton:
                style: "tonal"
                on_release: app.on_button_click('-')
                MDButtonText:
                    text: "-"
            
            # -- Linha 4 --
            MDButton:
                style: "tonal"
                on_release: app.on_button_click('1')
                MDButtonText:
                    text: "1"
            MDButton:
                style: "tonal"
                on_release: app.on_button_click('2')
                MDButtonText:
                    text: "2"
            MDButton:
                style: "tonal"
                on_release: app.on_button_click('3')
                MDButtonText:
                    text: "3"
            MDButton:
                style: "tonal"
                on_release: app.on_button_click('+')
                MDButtonText:
                    text: "+"
                
            # -- Linha 5 --
            MDButton:
                style: "tonal"
                on_release: app.on_button_click('00')
                MDButtonText:
                    text: "00"
            MDButton:
                style: "tonal"
                on_release: app.on_button_click('0')
                MDButtonText:
                    text: "0"
            MDButton:
                style: "tonal"
                on_release: app.on_button_click(',')
                MDButtonText:
                    text: ","
            MDButton:
                style: "filled"
                on_release: app.calculate()
                MDButtonText:
                    text: "="


<SettingsScreen>:
    name: "settings"

    MDBoxLayout:
        orientation: 'vertical'
        padding: "16dp"
        spacing: "24dp"

        MDTopAppBar:
            title: "Configurações"
            use_title_centered: True
            left_action_items: [["arrow-left", lambda x: app.change_screen("main")]]

        MDCard:
            orientation: 'horizontal'
            padding: "16dp"
            size_hint_y: None
            height: "64dp"
            radius: "12dp"
            
            MDLabel:
                text: "Modo Escuro"
                adaptive_size: True
                pos_hint: {"center_y": 0.5}

            MDSwitch:
                pos_hint: {"center_y": 0.5}
                on_active: app.toggle_theme(self, self.active)

        MDCard:
            orientation: 'horizontal'
            padding: "16dp"
            size_hint_y: None
            height: "64dp"
            radius: "12dp"
            on_release: app.open_link()

            MDIcon:
                icon: "github"
                pos_hint: {"center_y": 0.5}
            
            MDLabel:
                text: "Criador do app: @Mayc00m"
                adaptive_size: True
                pos_hint: {"center_y": 0.5}
        
        MDFloatLayout: